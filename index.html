<!doctype html>
<html>
<head>
    <title>Tutorial 1: Getting Started</title>
    <script src='cytoscape.js'></script>
    <style>
        #cy {
            position: absolute;
            top: 50px;
            width: 100%;
            height: 90%;
        }
    </style>
</head>

<body>
    <div>
        <select id="selectGraphStyle">
            <option value="grid">List</option> 
            <option value="breadthfirst" selected>Graph</option>
        </select>
        <select id="selectTask">

        </select>
    </div>
    <div id="cy"></div>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
    <script>
        $(function() {
            $.ajax({
                dataType: "json",
                url: "taskgraph/taskList.json",
                success: function(data) {
                    $.each(data, function (i, item) {
                        $("#selectTask").append($("<option>", { 
                            value: item,
                            text : item 
                        }));
                    });
                }
            })
        });

        var selectTask = $("#selectTask");
        var selectGraphStyle = $("#selectGraphStyle");
        $("select").on("change", function() {
            var taskName = selectTask.val();
            var layoutType = selectGraphStyle.val();
            $.ajax({
                dataType: "json",
                url: taskName + ".json",
                success: function(data) {
                    var cy = cytoscape({
                        container: document.getElementById('cy'),
                        elements: data,
                        layout: {
                            name: layoutType,
                            directed: true,
                            padding: 10
                        },
                        style: cytoscape.stylesheet()
                            .selector('node')
                            .css({
                                'content': 'data(id)',
                                'text-valign': 'center',
                                'color': 'white',
                                'text-outline-width': 2,
                                'text-outline-color': 'black',
                                'background-color': 'black',
                                'font-size': '36px',
                                'height': '50px',
                                'width': '50px'
                            }),
                        //zoomingEnabled: false,
                        userZoomingEnabled: false,
                        // panningEnabled: false,
                        userPanningEnabled: false,
                        boxSelectionEnabled: false
                    });
                }
            });
        });

        
    </script>
</body>
</html>